<%- include("partials/header.ejs")%>
<%- include("partials/sidebar.ejs")%>
        <main class="main-wrap">
            <%- include("partials/nav.ejs")%>
            <section class="content-main">
                <div class="content-header">
                    <div>
                        <h2 class="content-title card-title">Dashboard</h2>
                        
                    </div>
                   
                </div>
                <div class="row">
                    <div class="col-lg-3">
                        <div class="card card-body mb-4">
                            <article class="icontext">
                                <span class="icon icon-sm rounded-circle bg-primary-light"><i class="text-primary material-icons md-monetization_on"></i></span>
                                <div class="text">
                                    <h6 class="mb-1 card-title">Revenue</h6>
                                    <span><%=totalrevenue%></span>
                                    <span class="text-sm"> Shipping fees are not included </span>
                                </div>
                            </article>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="card card-body mb-4">
                            <article class="icontext">
                                <span class="icon icon-sm rounded-circle bg-success-light"><i class="text-success material-icons md-local_shipping"></i></span>
                                <div class="text">
                                    <h6 class="mb-1 card-title">Orders</h6>
                                    <span><%=totalOrders%></span>
                                    <span class="text-sm"> Excluding orders in transit </span>
                                </div>
                            </article>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="card card-body mb-4">
                            <article class="icontext">
                                <span class="icon icon-sm rounded-circle bg-warning-light"><i class="text-warning material-icons md-qr_code"></i></span>
                                <div class="text">
                                    <h6 class="mb-1 card-title">Products</h6>
                                    <span><%=totalproductscount%></span>
                                    <span class="text-sm"> In <%=totalcategorycount%> Categories </span>
                                </div>
                            </article>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="card card-body mb-4">
                            <article class="icontext">
                                <span class="icon icon-sm rounded-circle bg-info-light"><i class="text-info material-icons md-shopping_basket"></i></span>
                                <div class="text">
                                    <h6 class="mb-1 card-title">Monthly Earning</h6>
                                    <span><%=monthsalesrevenue%></span>
                                    <span class="text-sm"> Based in your local time. </span>
                                </div>
                            </article>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="">
                        <div class="card mb-4">
                            <article class="card-body">
                                <h5 class="card-title">Sale statistics</h5>
                                <header class="card-header">
                                    <div class="row align-items-center">
                                        <div class="col-md-6 col-12 me-auto mb-md-0 mb-3">
                                            <div class="d-flex ">
                                                <label for="categoryName" class="form-label me-1 ">Enter year</label>
                                                <input type="text" value="2024" placeholder="2024" class="form-control mx-1 col-3" id="time" />
                                                <p id="catAlert" class="text-danger"></p>
                                                <a href="#" id="yearlyBtn" data-id="yearly" class="btn btn-primary btn-sm rounded mx-1 ">Yearly</a>
                                                <a href="#" id="monthlyBtn" data-id="monthly" class="btn btn-primary btn-sm rounded mx-1 ">Monthly</a>
                                            </div>
                                        </div>
                                    </div>
                                </header>
                                <canvas id="myChart" height="180px"></canvas>
                            </article>
                        </div>
                        <div class="row">
                            <div class="card">
                              <article class="card-body">
                                <div class="d-flex justify-content-around">
                                  <div class="col-5">
                                    <h4 class="fw-bold text-info">Top selling products</h4>
                                    <table class="table table-striped table-hover">
                                      <thead>
                                        <tr>
                                          <th scope="col">#</th>
                                          <th scope="col">Product name</th>
                                          <th scope="col">count</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <% toptenproducts.forEach((i, index) => { %>
                                        <tr>
                                          <th scope="row"><%= index %></th>
                                          <td><%= i._id %></td>
                                          <td><%= i.count %></td>
                                        </tr>
                                        <% }) %>
                                      </tbody>
                                    </table>
                                  </div>
                                  <div class="col-5">
                                    <h4 class="fw-bold text-info">Top selling categories</h4>
                                    <table class="table table-striped table-hover">
                                      <thead>
                                        <tr>
                                          <th scope="col">#</th>
                                          <th scope="col">Category name</th>
                                          <th scope="col">count</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <% toptencategories.forEach((i, index) => { %>
                                        <tr>
                                          <th scope="row"><%= index %></th>
                                          <td><%= i._id %></td>
                                          <td><%= i.count %></td>
                                        </tr>
                                        <% }) %>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </article>
                            </div>
                            <div class="card">
                              <article class="card-body">
                                <div class="d-flex justify-content-around">
                                  <div class="col-5">
                                    <h4 class="fw-bold text-info">Top selling brands</h4>
                                    <table class="table table-striped table-hover">
                                      <thead>
                                        <tr>
                                          <th scope="col">#</th>
                                          <th scope="col">Category name</th>
                                          <th scope="col">count</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <% toptenbrands.forEach((i, index) => { %>
                                        <tr>
                                          <th scope="row"><%= index %></th>
                                          <td><%= i._id %></td>
                                          <td><%= i.count %></td>
                                        </tr>
                                        <% }) %>
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </article>
                            </div>
                          </div>
            </section>
            <!-- content-main end// -->
            <%- include("partials/footer.ejs")%>